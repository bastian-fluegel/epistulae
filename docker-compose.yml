# Epistulae â€“ lokal mit Firebase-Emulatoren
# Start: docker compose up -d
# App: http://localhost:8000
# Emulator-UI: http://localhost:4010 (Auth, Firestore)

services:
  app:
    build: .
    ports:
      - "8000:8000"
    environment:
      - USE_FIREBASE_EMULATOR=true
      - FIRESTORE_EMULATOR_HOST=firebase:8080
    depends_on:
      - firebase

  firebase:
    image: spine3/firebase-emulator
    ports:
      - "4010:4000"   # Emulator UI
      - "8081:8080"   # Firestore (Host 8081, da 8080 oft belegt)
      - "9098:9099"   # Auth
    environment:
      - GCP_PROJECT=demo-epistulae
      - ENABLE_UI=true
